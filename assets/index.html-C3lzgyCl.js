import{_ as i,c as a,a as e,o as t}from"./app-BY9Dp6BL.js";const h={};function n(r,s){return t(),a("div",null,[...s[0]||(s[0]=[e(`<div class="hint-container tip"><p class="hint-container-title">Why use <mark>SSH</mark></p><p>SSH is very useful if you wish to access your home computer when you are not at home. This can let you see the status of any program or run a new one. Doing so carefully is very important as in order to access it from beyond your home network special security measures must be enacted.</p></div><div class="hint-container info"><p class="hint-container-title">Prerequisites</p><p>This guide assumes you have OpenSSH installed, and Gnome (or at least the Advanced Network Manager that comes with it on Debian)</p></div><details class="hint-container details"><summary>Want a quick and dirty approach?</summary><p>Just by installing OpenSSH on both machines, you should be able to access ssh from your tailscale machine via port 22 via:</p><div class="language-bash" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ssh</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> [server-username]@</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">server_ip</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> -p 22</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span></code></pre></div><p>This should be safe enough if you use a service like <a href="https://tailscale.com/" target="_blank" rel="noopener noreferrer">Tailscale</a>, but the rest of the guide will add some security settings that will help secure the machine for other usages.</p></details><div class="vp-steps"><ul><li><p><strong>First time</strong></p><p>On the client machine connected to the same network as the home computer you should run.</p><div class="language-bash" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ssh</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> [server_username]@</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">server_ip</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> -p 22</span></span></code></pre></div><p>You will be prompted for a password, enter the one of your home machine</p><div class="hint-container tip"><p class="hint-container-title">How do I get those values exactly?</p><p>You can get your username from running whoami on the home server, and the ip is the one you set up for static ip</p></div></li><li><p><strong>Changing to more secure settings</strong></p><p>Now, we are going to configure your home machine for more convenience and security. To do this run the following</p><div class="language-bash" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ssh-keygen</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -f</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ~/.ssh/[name_for_keys]</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # Creates the client keys</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ssh-copy-id</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> [server_username]@</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">server_ip</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span></span></code></pre></div><p>After setting up this key we will change the settings of ssh in <code>/etc/ssh/sshd_config</code>. Here you are going to want to append the following lines</p><div class="language-" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-"><span class="line"><span>PermitRootLogin no</span></span>
<span class="line"><span>PasswordAuthentication no</span></span></code></pre></div><p>After this run the following for your changes to take effect</p><div class="language-bash" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> restart</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> sshd</span></span></code></pre></div></li><li><p><strong>Setting up external security programs</strong></p><p>Next up, you want to set up fail2ban to block anyone who tries to spam your ssh connection. This shouldn&#39;t really be necessary with Tailscale, but who knows maybe some day you accidentally open up the port, and this should protect you.</p><div class="language-bash" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">apt</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> fail2ban</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">echo</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">sshd_backend = systemd</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &gt;&gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/fail2ban/paths-debian.conf</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> restart</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> fail2ban</span></span></code></pre></div></li><li><p><strong>Accessing from beyond local</strong> You should be able to access the server on your external machine by running the following. The server IP is best acquired via <a href="https://tailscale.com/" target="_blank" rel="noopener noreferrer">Tailscale</a>, but you can also open up port 22 in your router settings for a less secure approach:</p><div class="language-bash" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">eval</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> \`</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ssh-agent</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">\`</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ssh-add</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ~/.ssh/[name_for_keys]</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # You defined the name a while back</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ssh</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> [server-username]@</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">server_ip</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> -p 22</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span></code></pre></div></li></ul></div>`,4)])])}const o=i(h,[["render",n]]),p=JSON.parse('{"path":"/guides/ssh-guide/","title":"SSH Guide","lang":"en","frontmatter":{"title":"SSH Guide","tags":["Beginner","Productivity"],"createTime":"2025/07/14 18:18:12","permalink":"/guides/ssh-guide/","contributors":["joseporcar"]},"readingTime":{"minutes":1.53,"words":458},"git":{"createdTime":1752537940000,"updatedTime":1765493477000,"contributors":[{"name":"joseporcar","username":"joseporcar","email":"joseaporcar@gmail.com","commits":4,"avatar":"https://avatars.githubusercontent.com/joseporcar?v=4","url":"https://github.com/joseporcar"},{"name":"Lunear01","username":"Lunear01","email":"IkerHuang0315@gmail.com","commits":2,"avatar":"https://avatars.githubusercontent.com/Lunear01?v=4","url":"https://github.com/Lunear01"},{"name":"aier9500","username":"aier9500","email":"aierjjwu8@outlook.com","commits":2,"avatar":"https://avatars.githubusercontent.com/aier9500?v=4","url":"https://github.com/aier9500"}],"changelog":[{"hash":"35118be7af611d620ed1a75974f71a7c5d3621b5","time":1765493477000,"email":"IkerHuang0315@gmail.com","author":"Lunear01","message":"Grammar and Spell Checks for the entire Web"},{"hash":"5810a11ef27bb9fa8422b34a78a91318f7989061","time":1765321894000,"email":"aierjjwu8@outlook.com","author":"aier9500","message":"Cleaner way of displaying contributors in articles."},{"hash":"26c5ae2de42bd84cd0e37407b2c84990869a27bf","time":1762794449000,"email":"aierjjwu8@outlook.com","author":"aier9500","message":"Restructuring tags."},{"hash":"87d126c0879b0516887aad9647862ff0432f509f","time":1754088076000,"email":"joseaporcar@gmail.com","author":"joseporcar","message":"tweaking"},{"hash":"4ddd04dfd0a51e6b02a1ad7754a82c30db02f493","time":1752695677000,"email":"IkerHuang0315@gmail.com","author":"Lunear01","message":"Fixed formatting"},{"hash":"25f071eebdc0ba2a23751c8d1452319763dba0c9","time":1752692777000,"email":"joseaporcar@gmail.com","author":"joseporcar","message":"final changes"},{"hash":"6fac3a0f46954fb420003adc5c0a1b9a6f760499","time":1752692284000,"email":"joseaporcar@gmail.com","author":"joseporcar","message":"formatting"},{"hash":"b9abb4287c5274cdf250b7b1a1cfc3f4d9ae7e33","time":1752537940000,"email":"joseaporcar@gmail.com","author":"joseporcar","message":"added ssh tutorial"}]},"filePathRelative":"guides/ssh-guide.md","headers":[],"categoryList":[]}');export{o as comp,p as data};
